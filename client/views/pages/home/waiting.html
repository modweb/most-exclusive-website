<template name='waiting'>
  <div class='row'>
    {{#if queueEntry}}
      <div class='col-sm-12 col-md-6 col-md-offset-3'>
        <p class='text-center'>You are behind {{numberOfTicketsBeforeYou}}
          {{#if $eq numberOfTicketsBeforeYou 1}}
            person.
          {{else}}
            people.
          {{/if}} Your ticket number is <b>#{{queueEntry.ticketNumber}}</b>.</p>
      </div>
    {{else}}
      <div class='col-sm-12 col-md-6 col-md-offset-3'>
        {{#autoForm id='getInLine' schema=nameSchema type='method' meteormethod='getInQueue'}}
          {{> afQuickField name='name' label-class="sr-only" afFieldInput-placeholder="schemaLabel" }}
          <button type='submit' class='btn btn-lg btn-info btn-raised' style='width: 100%'>Take ticket #{{this.queueMeta.nextTicketNumber}}</button>
        {{/autoForm}}
      </div>
    {{/if}}
  </div>
  <hr>
  {{#if html}}
    <div class='row'>
      <div class='col-sm-12 col-md-6 col-md-offset-3'>
        {{{html}}}
      </div>
    </div>
    <hr>
  {{/if}}
  {{#each posts}}
    {{> post}}
  {{/each}}
</template>
